# ============================================
# deepsdf (CPU-only)
#
# Mudanças:
# - Sem CUDA (removido cudatoolkit)
# - PyTorch3D será instalado via pip compilando (CPU) no Dockerfile
#
# Se fosse usar GPU:
# - adicionar cudatoolkit (ex: 11.3.1)
# - instalar pytorch3d via wheel CUDA (cu113) e rodar com --gpus all
# ============================================

name: deepsdf
channel_priority: strict
channels:
  - conda-forge
  - pytorch
  - nvidia

dependencies:
  - python=3.9
  - pip=22.3.1

  # evita erro do dash/open3d
  - typing_extensions>=4.10

  # ---- suas deps (mantive as principais; cole o resto que você já tinha) ----
  - anyio=3.5.0
  - argon2-cffi=21.3.0
  - pytorch=1.11.0
  - torchvision=0.12.0
  - torchaudio=0.11.0

  # CPU-only: NÃO usar cudatoolkit
  # - cudatoolkit=11.3.1

  - pybullet

  - pip:
      - typing_extensions>=4.10
      - open3d
      - absl-py==1.4.0
      - cachetools==5.3.1
      - google-auth==2.22.0
      - google-auth-oauthlib==1.0.0
      - grpcio==1.56.0
      - imageio==2.31.1
      - lazy-loader==0.3
      - markdown==3.4.3
      - markupsafe==2.1.3
      - networkx==3.1
      - oauthlib==3.2.2
      - packaging==23.1
      - plotly==5.15.0
      - point-cloud-utils==0.29.6
      - protobuf==4.23.4
      - pyasn1==0.5.0
      - pyasn1-modules==0.3.0
      - pywavelets==1.4.1
      - requests-oauthlib==1.3.1
      - rsa==4.9
      - scikit-image==0.21.0
      - scipy==1.11.1
      - tenacity==8.2.2
      - tensorboard==2.13.0
      - tensorboard-data-server==0.7.1
      - tifffile==2023.7.10
      - trimesh==3.22.4
      - werkzeug==2.3.6